---
layout: single
title: "CDC ì´í•´í•˜ê¸°"
date: 2025-08-06 20:21:02 +0900
categories: AI
share: true
---

# ë³€ê²½ ë°ì´í„° ìº¡ì²˜ (CDC: Change Data Capture)

## 1. CDCë€?

**CDC(Change Data Capture)**ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°œìƒí•˜ëŠ” ë°ì´í„° ë³€ê²½ ì‚¬í•­(ì‚½ì…, ìˆ˜ì •, ì‚­ì œ)ì„ ì‹¤ì‹œê°„ ë˜ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ê°ì§€í•˜ê³ , ì´ë¥¼ ë‹¤ë¥¸ ì‹œìŠ¤í…œìœ¼ë¡œ ì „íŒŒí•˜ê±°ë‚˜ ë¶„ì„ì— í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.

CDCëŠ” íŒŒì´í”„ë¼ì¸ì´ ë§ˆì§€ë§‰ìœ¼ë¡œ ì‹¤í–‰ëœ ì´í›„ _ë³€ê²½ëœ ë°ì´í„°ë§Œ_ ì²˜ë¦¬í•˜ë¯€ë¡œ ì‘ì—…ì´ ë” íš¨ìœ¨ì ì´ê³  íš¨ê³¼ì ì…ë‹ˆë‹¤.

---

### âœ… ì™œ CDCë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?

#### [AS-IS]

- ê¸°ì¡´ì—ëŠ” ë§¤ì¼ **60ì¼ì¹˜ ë°ì´í„°ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ë®ì–´ì”€** â†’ ë¹„íš¨ìœ¨

#### [TO-BE]

CDCëŠ” ë³€ê²½ëœ ë°ì´í„°ë§Œ ì¶”ì¶œí•˜ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì´ì ì´ ìˆìŠµë‹ˆë‹¤:

- **ë³€ê²½ ë¶€ë¶„ë§Œ ë°˜ì˜ (ì„±ëŠ¥ í–¥ìƒ)**: ì „ì²´ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ë¡œë“œí•˜ì§€ ì•Šê³  ë³€ê²½ëœ ë¶€ë¶„ë§Œ ë°˜ì˜
- **ì‹¤ì‹œê°„ ì²˜ë¦¬ ê°€ëŠ¥**: ìŠ¤íŠ¸ë¦¬ë° íŒŒì´í”„ë¼ì¸ê³¼ ì—°ê³„í•˜ì—¬ ì‹¤ì‹œê°„ ë¶„ì„ ê°€ëŠ¥
- **ë¦¬ì†ŒìŠ¤ ì ˆì•½**: ë„¤íŠ¸ì›Œí¬ / ìŠ¤í† ë¦¬ì§€ ë¹„ìš© ê°ì†Œ
- **ë°ì´í„° ì¼ê´€ì„± ìœ ì§€**: ì‹¤ì‹œê°„ ë™ê¸°í™”ë¡œ ë°ì´í„° í’ˆì§ˆ í–¥ìƒ

---

### ğŸ”§ ë™ì‘ ì›ë¦¬

> ğŸ’¡ **Source DBì˜ ë¡œê·¸ë¥¼ ì½ì–´ Targetìœ¼ë¡œ ë°ì´í„°ë¥¼ ì´ê´€**

| ë°©ì‹            | ì„¤ëª…                               | ì˜ˆì‹œ                                 |
| --------------- | ---------------------------------- | ------------------------------------ |
| íŠ¸ë¦¬ê±° ê¸°ë°˜     | DB íŠ¸ë¦¬ê±°ë¥¼ ì‚¬ìš©í•´ ë³€ê²½ì‚¬í•­ ê¸°ë¡   | INSERT / UPDATE / DELETE íŠ¸ë¦¬ê±° ì„¤ì • |
| ë¡œê·¸ ê¸°ë°˜       | íŠ¸ëœì­ì…˜ ë¡œê·¸(binlog ë“±) ë¶„ì„      | MySQL binlog, SQL Server CDC         |
| íƒ€ì„ìŠ¤íƒ¬í”„ ë¹„êµ | ë³€ê²½ ì‹œê°„ ì»¬ëŸ¼ ê¸°ë°˜ ë¹„êµ           | `last_modified` ì»¬ëŸ¼ í™œìš©            |
| í•´ì‹œ ë¹„êµ       | í–‰ì˜ í•´ì‹œê°’ì„ ë¹„êµí•´ ë³€ê²½ì‚¬í•­ ê°ì§€ | ì£¼ê¸°ì  í•´ì‹œ ê³„ì‚° í›„ ë¹„êµ             |

---

## 2. CDC ì ìš© ì˜ˆì‹œ (MySQL â†’ Azure)

MySQLì˜ CDC ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ Azure í™˜ê²½ìœ¼ë¡œ ë³€ê²½ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ì €ì¥ ë° ë¶„ì„í•˜ëŠ” ì•„í‚¤í…ì²˜ êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

### ğŸ“Œ ì•„í‚¤í…ì²˜ êµ¬ì„±

```mermaid
flowchart LR
    MySQL["MySQL"] --> Debezium["Debezium Connector"]
    Debezium --> Kafka["Kafka"]
    Kafka --> Storage["Azure Blob Storage"]
    Kafka --> Synapse["Azure Synapse Analytics"]
```

---

## 3. MySQL CDC êµ¬ì„±

MySQLì—ì„œëŠ” **Binary Log (binlog)** ë¥¼ í†µí•´ CDCë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 3.1 binlog ì„¤ì • ì˜ˆì‹œ

```ini
[mysqld]
server-id=1
log-bin=mysql-bin
binlog_format=row
binlog_row_image=full
expire_logs_days=7
```

> ì„¤ì • í›„ MySQL ì¬ì‹œì‘ í•„ìš”  
> CDC ì „ìš© ê³„ì • ìƒì„± ê¶Œì¥

---

## 4. Azureì—ì„œ CDC ìˆ˜ì§‘ êµ¬ì„±

Debezium + Kafkaë¥¼ í™œìš©í•œ **ì •ì„ì ì¸ CDC ì•„í‚¤í…ì²˜**ì…ë‹ˆë‹¤.

### 4.1 êµ¬ì„± íë¦„

1. Kafka í´ëŸ¬ìŠ¤í„° êµ¬ì„± (ì˜ˆ: Confluent Cloud / self-hosted / Azure HDInsight)
2. Debezium MySQL Connector ì„¤ì • (binlog ì‹¤ì‹œê°„ ìˆ˜ì‹ )
3. Kafka Sink Connector ì„¤ì •
   - ì˜ˆ: Azure Blob Storage Sink / Azure SQL DB Sink / Databricks Consumer ë“±
4. Azure íƒ€ê²Ÿ êµ¬ì„±
   - Azure Blob / Data Lake â†’ ì›ë³¸ ë¡œê·¸ ì €ì¥
   - Azure Databricks â†’ ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬ ë° ë¶„ì„
   - Azure SQL DB â†’ ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”

---

## ğŸ“· ì ìš© ì˜ˆì‹œ ì´ë¯¸ì§€

![ì ìš© Idea](/assets/images/2025-08-06-img1.png)
