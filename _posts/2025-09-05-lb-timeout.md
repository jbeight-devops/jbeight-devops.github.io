---
layout: single
title: "Timeout의 원인을 찾아라."
date: 2025-09-05 01:00:00 +0900
categories: ops.
share: true
---

운영 중이던 사내 ChatGPT 시스템에서, SSO 서버로의 Health Check(생존 확인) 요청이 간헐적으로 Timeout 되는 현상이 발견됐다. 이 문제 때문에 일부 사용자는 SSO 인증이 실패하는 경험을 하게 되었다.

처음에는 네트워크 방화벽 문제를 의심했다.
우리 환경은 Azure 클라우드와 On-Prem 데이터센터를 오가는 트래픽이 여러 구간의 방화벽을 통과하기 때문에, 중간 정책 누락이나 차단으로 인해 Timeout이 발생했을 가능성이 있었다.
네트워크 팀에 로그 확인을 요청했지만, 서버에서 server-rst 응답을 발생하고 있으며, 방화벽 정책에는 문제가 없다고 했다.

다음으로는 SSO 서버를 확인했다. 이중화 구성된 두 대의 Real 서버에 대해 방화벽을 직접 오픈하고 헬스 체크를 시도한 결과, 두 서버 모두 100% 응답을 주었다.

과연 범인은 L4인가 ..
